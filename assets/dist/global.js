/*!
 * creative v0.1.0-alpha.0 (https://github.com/zce/creative#readme)
 * Copyright 2018 zce <w@zce.me> (https://zce.me)
 * Licensed under MIT
 */"use strict";var qs=document.querySelector.bind(document),qsa=document.querySelectorAll.bind(document);function loadStyle(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)}function loadScript(e,t){var n=document.createElement("script");n.src=e,t&&n.addEventListener("load",t),document.body.appendChild(n)}!function(){var n=qs("#search_input");if(!n)return;loadScript("https://unpkg.com/ghost-search/dist/ghost-search.js",function(){var t=document.createElement("div");t.id="search_result",t.className="dropdown-menu dropdown-menu-right",t.innerHTML='<span class="dropdown-item disabled">'.concat(n.placeholder,"...</span>"),n.parentElement.classList.add("dropdown"),n.parentElement.appendChild(t),new window.GhostSearch({input:"#search_input",results:"#search_result",template:function(e){return'<a class="dropdown-item" href="'.concat(e.url,'">').concat(e.title,"</a>")},api:{parameters:{fields:["url","title"]}},on:{afterDisplay:function(e){return 0===e.total&&(!!n.value&&void(t.innerHTML='<span class="dropdown-item disabled">No results</span>'))}}})})}(),function(){if(!qs(".post-card [data-src]"))return;loadScript("https://unpkg.com/vanilla-lazyload",function(){window.lazyloader=new window.LazyLoad({elements_selector:".post-card [data-src]"})})}(),function(){var e=qsa(".post-content pre code");if(!e.length)return;e.forEach(function(e){e.classList.length||e.classList.add("language-basic")}),loadStyle("https://unpkg.com/prismjs/themes/prism-okaidia.css"),loadScript("https://unpkg.com/prismjs/prism.js")}(),function(){qsa(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),n=e.attributes.width.value/e.attributes.height.value;t.style.flex=n+" 1 0%"});var e=qsa(".kg-gallery-container");if(!e.length)return;loadStyle("https://unpkg.com/lightgallery.js/dist/css/lightgallery.min.css"),loadScript("https://unpkg.com/lightgallery.js/dist/js/lightgallery.js",function(){e.forEach(function(e){e.querySelectorAll(".kg-gallery-image").forEach(function(e){e.dataset.src=e.children[0].src}),window.lightGallery(e,{selector:".kg-gallery-image"})})})}(),qsa(".post-share a").forEach(function(e){return e.addEventListener("click",function(e){window.open(e.currentTarget.href,"share-window","width=640,height=360"),e.preventDefault()})}),qsa("input[name=location]").forEach(function(e){e.value=e.value||location.href}),qsa("input[name=referrer]").forEach(function(e){e.value=e.value||document.referrer}),function(){var e=qs(".site-preloader");e&&(e.style.opacity=0,setTimeout(function(){return e.parentElement.removeChild(e)},1e3))}();