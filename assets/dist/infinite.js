/*!
 * creative v0.1.0-alpha.0 (https://github.com/zce/creative#readme)
 * Copyright 2018 zce <w@zce.me> (https://zce.me)
 * Licensed under MIT
 */"use strict";!function(n,r){var i=r.querySelector("link[rel=next]");if(i){var o=r.querySelector(".post-feed");if(o){var s=r.querySelector(".pagination"),t=300,l=!1,c=!1,u=n.scrollY,a=n.innerHeight,d=r.documentElement.scrollHeight;n.addEventListener("scroll",h,{passive:!0}),n.addEventListener("resize",p),v()}}function f(){if(404===this.status)return n.removeEventListener("scroll",h),void n.removeEventListener("resize",p);if(this.response.querySelectorAll(".post-card").forEach(function(e){return o.appendChild(e)}),n.lazyloader&&n.lazyloader.update(),s){var e=this.response.querySelector(".pagination");s.innerHTML=e.innerHTML}n.history.pushState(null,r.title,i.href),r.title=this.response.title;var t=this.response.querySelector("link[rel=next]");t?i.href=t.href:(n.removeEventListener("scroll",h),n.removeEventListener("resize",p)),d=r.documentElement.scrollHeight,c=l=!1}function e(){if(!c)if(u+a<=d-t)l=!1;else{c=!0;var e=new n.XMLHttpRequest;e.responseType="document",e.addEventListener("load",f),e.open("GET",i.href),e.send(null)}}function v(){l||n.requestAnimationFrame(e),l=!0}function h(){u=n.scrollY,v()}function p(){a=n.innerHeight,d=r.documentElement.scrollHeight,v()}}(window,document);